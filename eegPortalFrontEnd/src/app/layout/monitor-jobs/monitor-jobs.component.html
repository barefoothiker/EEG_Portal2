<div>
	<div class="container">

		<!-- <form role="form" >
			<fieldset class="form-group">
				<ul>
				  <li *ngIf = "datafiles" *ngFor="let datafile of datafiles.items" >
				    {{datafile.name}}
				  </li>
				</ul>
			</fieldset>
		</form> -->
			<br/>

			<div class="row">
					<div class="col-sm-12">
							<div>
								Search Files:&nbsp;
								<input [(ngModel)]="searchDataFilesString" id="searchDataFilesString" [ngModelOptions]="{standalone: true}">
								&nbsp;
								Filter Records:&nbsp;
								<select
									class="form-control-sm"
									name="mode"
									[(ngModel)]="filterFilesOption" (change) = "filterDataFiles();">
									<option value=""></option>
									<option value="{{filterOption.name}}" *ngFor="let filterOption of filterOptions" >{{filterOption.name}}</option>
								</select>
							</div>
							<br/>

							<div class="form-group" >
								<div style="width:120px;height:60px;border:1px solid #000;background-color:#EDF59A;text-align:center;font-size:18px;float:left;">Uploaded</div>
								<div style="width:10px;height:60px;border:0px;float:left;"></div>
								<div style="width:120px;height:60px;border:1px solid #000;background-color:#CBF022;text-align:center;font-size:18px;float:left;">Analysis Submitted</div>
								<div style="width:10px;height:60px;border:0px;float:left;"></div>
								<div style="width:120px;height:60px;border:1px solid #000;background-color:#32FFC8;text-align:center;font-size:18px;float:left;">Score Calculated</div>
								<div style="width:10px;height:60px;border:0px;float:left;"></div>
								<div style="width:120px;height:60px;border:1px solid #000;background-color:#36CBEC;text-align:center;font-size:18px;float:left;">Analysis Completed</div>
							</div>&nbsp;&nbsp;

							<br/>
							<br/>
{{datafiles}}
							<div *ngIf="datafiles?.length > 0">

								<table class="table table-bordered table-striped table-sm">
							    <tr>
							      <th>Name</th>
							      <th>Chksum</th>
							      <th>Status</th>
							      <th>View Results</th>
										<th>Delete</th>
									</tr>
							    <!-- <tr *ngFor="let datafile of datafiles | listFilesFilter : searchDataFilesString"  id="{{datafile.name}}" [style.background-color]="datafile.rowColor"> -->
										<tr *ngFor="let datafile of datafiles"  id="{{datafile.name}}" [style.background-color]="datafile.rowColor">

			              <td>
												 <a [routerLink]="['/datafile-detail',datafile.id]" >
												{{datafile.name}}
												 </a>
										</td>

							      <td>{{ datafile.chksum}}</td>
							      <td>
											{{ datafile.status }}
										</td>
							      <td>
											<div *ngIf = "datafile.resultsAvailable == 'yes'">
												<a [routerLink]="['/brain-viewer',datafile.id]" >
													View Results
												</a>
											</div>
											<div *ngIf = "datafile.resultsAvailable == 'no'">
												<div *ngIf = "datafile.status == 'Analysis Submitted'">
													Processing ..
												</div>
												<div *ngIf = "datafile.status == 'Uploaded'">
													Uploaded
												</div>
											</div>
										</td>
			              <td>
											<button  id="delete_button_{{datafile.id}}" (click)="terminateJob($event);" class="btn btn-danger">Terminate</button>&nbsp;
										</td>
							    </tr>
							  </table>
								<div class="alert alert-success" role="alert" *ngIf="message">
		              {{message}}
		            </div>
							</div>
							<div *ngIf="datafiles?.length == 0">
								<b>No files to display.</b>
							</div>


			</div>
		</div>

	</div>
</div>
